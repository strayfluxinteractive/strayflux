language: cpp
compiler:
- gcc
before_install:
- sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y
- sudo apt-get update -qq
- if [ "$CXX" = "g++" ]; then sudo apt-get install -qq g++-4.8; fi
- if [ "$CXX" = "g++" ]; then export CXX="g++-4.8" CC="gcc-4.8"; fi
- sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.8 90
install:
- wget http://www.biicode.com/downloads/latest/ubuntu64
- mv ubuntu64 bii-ubuntu64.deb
- (sudo dpkg -i bii-ubuntu64.deb) && sudo apt-get -f install
- rm bii-ubuntu64.deb
- wget https://s3.amazonaws.com/biibinaries/thirdparty/cmake-3.0.2-Linux-64.tar.gz
- tar -xzf cmake-3.0.2-Linux-64.tar.gz
- sudo cp -fR cmake-3.0.2-Linux-64/* /usr
- rm -rf cmake-3.0.2-Linux-64
- rm cmake-3.0.2-Linux-64.tar.gz
script:
- cmake --version
- bii init strayflux
- mkdir -p ./strayflux/blocks/strayfluxinteractive/strayflux
- mv !(strayflux) ./strayflux/blocks/strayfluxinteractive/strayflux
- cd strayflux
- bii find -um
- bii cpp:build
- cd bin
- ./strayfluxinteractive_strayflux_test_main
after_success:
- bii user strayfluxinteractive -p $BII_strayfluxinteractive_PASSWORD
- bii publish